/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.37
 * Generated at: 2025-12-04 16:59:03 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import org.apache.commons.httpclient.HttpStatus;
import biblivre.core.utils.NetworkUtils;
import biblivre.core.exceptions.DAOException;
import java.io.*;

public final class error_005ffatal_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    java.lang.Throwable exception = org.apache.jasper.runtime.JspRuntimeLibrary.getThrowable(request);
    if (exception != null) {
      response.setStatus(javax.servlet.http.HttpServletResponse.SC_INTERNAL_SERVER_ERROR);
    }
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write(" \r\n");
      out.write("\r\n");
      out.write("<!doctype html>\r\n");
      out.write("<html class=\"noscript\">\r\n");
      out.write("<head>\r\n");
      out.write("\t<meta charset=\"utf-8\">\r\n");
      out.write("\t<meta name=\"google\" content=\"notranslate\" />\r\n");
      out.write("\t<title>Biblivre IV</title>\r\n");
      out.write("\t<link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"static/images/favicon.ico\" />\r\n");
      out.write("\t<link rel=\"stylesheet\" type=\"text/css\" href=\"static/styles/biblivre.core.css\" />\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("\t<div id=\"header\">\r\n");
      out.write("\t\t<div id=\"logo_biblivre\">\r\n");
      out.write("\t\t\t<a href=\"http://biblivre.org.br/\" target=\"_blank\"> <img src=\"static/images/logo_biblivre.png\" width=\"117\" height=\"66\" alt=\"Biblivre V\"></a>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div id=\"notifications\">\r\n");
      out.write("\t\t<div id=\"messages\">\r\n");
      out.write("\t\t\t<div class=\"message sticky error\">\r\n");
      out.write("\t\t\t");
 if (exception instanceof DAOException) { 
      out.write("\r\n");
      out.write("\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\tErro ao estabelecer conexão com o Banco de Dados.<br>\r\n");
      out.write("\t\t\t\t\tPor favor verifique se o mesmo está ativo e acessível pelo servidor Biblivre.\r\n");
      out.write("\t\t\t\t\t<br><br>\r\n");
      out.write("\t\t\t\t\tError establishing a connection to the Database Server.<br>\r\n");
      out.write("\t\t\t\t\tPlease check if the database server is running and accessible by the Biblivre server.\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t");
 } else { 
      out.write("\r\n");
      out.write("\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\tOcorreu um erro durante a execução deste pedido.<br>\r\n");
      out.write("\t\t\t\t\tPor favor entre em contato com o administrador do sistema ou um bibliotecário responsável.\r\n");
      out.write("\t\t\t\t\t<br><br>\r\n");
      out.write("\t\t\t\t\tAn error has occurred during the execution of this request.<br>\r\n");
      out.write("\t\t\t\t\tPlease contact the system administrator or a head librarian.\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t");
 } 
      out.write("\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div id=\"stacktrace\">\r\n");
      out.write("\t\t");

			if (exception != null) {
				if (NetworkUtils.isLocalRequest(request)) {
					StringWriter sw = new StringWriter();
					PrintWriter pw = new PrintWriter(sw);
	
					exception.printStackTrace(pw);
				
					sw.close();
					pw.close();
				
					out.print("<pre>");
					out.print(sw);
					out.print("</pre>");
				} else {
					
      out.write("\r\n");
      out.write("\t\t\t\t\tOcorreu um erro de aplicação durante a execução deste pedido. Os detalhes deste erro não podem ser visualizados a partir de um computador remoto (por medidas de segurança), mas podem ser vistos através de um navegador executado a partir do computador onde o Biblivre está instalado.<br><br>\r\n");
      out.write("\t\t\t\t\tAn application error occurred on the server. The application prevents the details of this error from being viewed remotely (for security reasons). It could, however, be viewed by browsers running on the local Biblivre server machine.\r\n");
      out.write("\t\t\t\t\t");

				} 
			}
		
      out.write("\r\n");
      out.write("\t</div>\r\n");
      out.write("</body>\r\n");
      out.write("</html>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
